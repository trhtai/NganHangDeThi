<Window x:Class="NganHangDeThi.QuanLyMonHocThuocLopWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:NganHangDeThi" xmlns:Icon="http://metro.mahapps.com/winfx/xaml/iconpacks"
        mc:Ignorable="d"
        xmlns:local1="clr-namespace:NganHangDeThi.Converters"
        Title="Quản lý môn học thuộc lớp" Height="400" Width="500"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None">
    <Window.Resources>
        <local1:IndexConverter x:Key="IndexConverter"/>
    </Window.Resources>

    <Grid Background="{StaticResource BgColor}">
        <Grid.RowDefinitions>
            <RowDefinition Height="auto" />
            <RowDefinition Height="auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="auto"/>
        </Grid.RowDefinitions>

        <!--Title-->
        <TextBlock Text="Quản lý môn học thuộc lớp" Grid.Row="0" 
               FontSize="28" FontWeight="SemiBold" Margin="16 0 0 4"
               HorizontalAlignment="Left" Foreground="#121518"/>

        <Grid Grid.Row="1" Margin="0 0 0 10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="auto"/>
            </Grid.ColumnDefinitions>
            <StackPanel Grid.Column="0" Orientation="Horizontal">
                <TextBlock Text="Môn học" FontFamily="13" FontWeight="SemiBold" Margin="18 0 10 0"
                     Foreground="#121518" VerticalAlignment="Center" />
                <ComboBox Width="290"  Margin="10 0"
                  ItemsSource="{Binding MonHocChuaThuocLop}"
                  SelectedItem="{Binding MonHocDuocChon}"
                  DisplayMemberPath="TenMon"
                  Style="{StaticResource ComboBoxFlatStyle}" />
            </StackPanel>
            <Button Grid.Column="1" Margin="0 0 8 0" Click="BtnThem_Click" Style="{StaticResource AddButton}">
                <StackPanel Orientation="Horizontal">
                    <Icon:PackIconMaterial Kind="Plus" VerticalAlignment="Center" Width="11" Height="11" Margin="0 1 8 0" />
                    <TextBlock Text="Thêm" />
                </StackPanel>
            </Button>
        </Grid>

        <DataGrid Padding="0 6" Grid.Row="2" ItemsSource="{Binding DsMonHocCuaLop}" AutoGenerateColumns="False" IsReadOnly="True" CanUserSortColumns="False"
                RowStyle="{DynamicResource DataGridRowStyle1}" 
                ColumnHeaderStyle="{DynamicResource DataGridColumnHeaderStyle1}" 
                CellStyle="{DynamicResource DataGridCellStyle1}" 
                Style="{DynamicResource DataGridStyle1}">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Tên môn" Binding="{Binding MonHoc.TenMon}" Width="*" />
                <DataGridTemplateColumn Header="Thao tác" IsReadOnly="True" Width="auto">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal">
                                <Button Click="BtnXoa_Click" Style="{StaticResource GridRemoveButton}" Tag="{Binding}" ToolTip="Xóa" Margin="5 0 0 0">
                                    <Icon:PackIconMaterial Kind="DeleteOffOutline" Style="{StaticResource GridButtonIcon}" />
                                </Button>
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>
        </DataGrid>

        <StackPanel Grid.Row="3" HorizontalAlignment="Right">
            <!--Close Button-->
            <Button Name="BtnDongForm" Width="120" Height="30" Click="BtnDongForm_Click" Style="{StaticResource BackButton}">
                <StackPanel Orientation="Horizontal">
                    <Icon:PackIconMaterial Kind="Close" VerticalAlignment="Center" Width="8" Height="8" Margin="0 1 8 0" />
                    <TextBlock Text="Đóng" />
                </StackPanel>
            </Button>
        </StackPanel>
    </Grid>
</Window>
