<Window x:Class="NganHangDeThi.QuanLyChuongWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
        xmlns:Icon="http://metro.mahapps.com/winfx/xaml/iconpacks" 
        xmlns:local1="clr-namespace:NganHangDeThi.Converters"
        Title="Quản lý chương" Height="450" Width="600"
        WindowStyle="None"
        WindowStartupLocation="CenterScreen"
        AllowsTransparency="True"
        SizeToContent="Height">
    <Window.Resources>
        <local1:IndexConverter x:Key="IndexConverter" />
    </Window.Resources>
    <Border Background="#ffffff" MouseDown="Border_MouseDown" Padding="20">
        <Border.Effect>
            <DropShadowEffect Direction="-130" BlurRadius="30" ShadowDepth="5" Opacity="0.1"/>
        </Border.Effect>

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!--Title-->
            <TextBlock Text="{Binding MonHoc.TenMon}" Grid.Row="0" 
               FontSize="32" FontWeight="SemiBold" Margin="0 0 0 4"
               HorizontalAlignment="Left" Foreground="#121518"/>

            <Grid Grid.Row="1">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <StackPanel HorizontalAlignment="Right" Orientation="Horizontal" Grid.Row="0">
                    <!--Refresh Button-->
                    <Button Name="BtnTaiLai" Click="BtnTaiLai_Click" Style="{StaticResource AddButton}" Margin="0 0 4 0">
                        <StackPanel Orientation="Horizontal">
                            <Icon:PackIconMaterial Kind="Refresh" VerticalAlignment="Center" Width="11" Height="11" Margin="0 1 8 0" />
                            <TextBlock Text="Tải lại" />
                        </StackPanel>
                    </Button>

                    <!--Add Button-->
                    <Button Name="BtnThemChuong" Click="BtnThemChuong_Click" Style="{StaticResource AddButton}">
                        <StackPanel Orientation="Horizontal">
                            <Icon:PackIconMaterial Kind="Plus" VerticalAlignment="Center" Width="11" Height="11" Margin="0 1 8 0" />
                            <TextBlock Text="Thêm" />
                        </StackPanel>
                    </Button>
                </StackPanel>

                <DataGrid Grid.Row="1" ItemsSource="{Binding DsChuong}"
                  RowStyle="{DynamicResource DataGridRowStyle1}" 
                  ColumnHeaderStyle="{DynamicResource DataGridColumnHeaderStyle1}" 
                  CellStyle="{DynamicResource DataGridCellStyle1}" 
                  Style="{DynamicResource DataGridStyle1}">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="#" Binding="{Binding Id}" Visibility="Collapsed" IsReadOnly="True" CanUserResize="False" Width="auto" />
                        <DataGridTextColumn Header="Vị trí" Binding="{Binding ViTri}" IsReadOnly="True" Width="auto" />
                        <DataGridTextColumn Header="Tên chương" Binding="{Binding TenChuong}" IsReadOnly="True" Width="auto" />

                        <DataGridTemplateColumn Header="Thao tác" IsReadOnly="True" Width="*">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                        <Button Name="BtnSuaChuong" Click="BtnSuaChuong_Click" Style="{StaticResource GridEditButton}" Tag="{Binding}" ToolTip="Sửa">
                                            <Icon:PackIconMaterial Kind="PencilOffOutline" Style="{StaticResource GridButtonIcon}" />
                                        </Button>
                                        <Button Name="BtnXoaChuonog" Click="BtnXoaChuonog_Click" Style="{StaticResource GridRemoveButton}" Tag="{Binding}" ToolTip="Xóa" Margin="5 0 0 0">
                                            <Icon:PackIconMaterial Kind="DeleteOffOutline" Style="{StaticResource GridButtonIcon}" />
                                        </Button>
                                    </StackPanel>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>

            <StackPanel Grid.Row="2" HorizontalAlignment="Right">
                <!--Close Button-->
                <Button Name="BtnDongForm" Margin="8" Width="120" Height="30" Click="BtnDongForm_Click" Style="{StaticResource BackButton}">
                    <StackPanel Orientation="Horizontal">
                        <Icon:PackIconMaterial Kind="Close" VerticalAlignment="Center" Width="8" Height="8" Margin="0 1 8 0" />
                        <TextBlock Text="Đóng" />
                    </StackPanel>
                </Button>
            </StackPanel>
        </Grid>
    </Border>

</Window>
